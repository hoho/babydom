/*!
 * babydom v0.0.3, https://github.com/hoho/babydom
 * (c) 2014 Marat Abdullin, MIT license
 */
var $B=function(e,t,n){"use strict";function r(t,n){return n=n||e,/:first$/.test(t)?(n=n.querySelector(t.slice(0,-6)))?[n]:[]:Array.prototype.slice.call(n.querySelectorAll(t))}function i(e,t){var n,i=e instanceof Node?[e]:e?r(e,t):[];for(n=0;n<i.length;n++)this[n]=i[n];this.length=i.length}function l(e){var t,n,r,i,l=0,o=e.stopPropagation,s=e.stopImmediatePropagation;for(t=e.target,e.stopPropagation=function(){l|=1,o.call(e)},e.stopImmediatePropagation=function(){l|=2,s.call(e)};t;){if((n=t.$b)&&(r=n[e.type]))for(i=r.length;i--;)if(r[i].call(t,e),2&l)return;if(1&l)return;t=t.parentNode}}function o(e){var t,n,r={};for(e=(e||"").split(v),t=0;t<e.length;t++)(n=e[t])&&(r[n]=1);return r}function s(e,t,r){var i,l;if(r===n)return t in f?"style"===t?e.style.cssText:e[t]:e.getAttribute(t);if(t in f)if("style"===t){if("object"==typeof r){l=[];for(i in r)l.push(i+": "+r[i]);r=l.join("; ")}r!==n&&(e.style.cssText=r||null)}else e[t]=null===r?f[t]:r;else null===r?e.removeAttribute(t):e.setAttribute(t,r)}function a(e,t,r,i){var l,a,u,f,c=o(t);for(i!==n&&(i=!!i),l=0;l<e.length;l++){a=e[l],u=o(s(a,"class"));for(f in c)r===!0||i===!0?u[f]=1:r===!1||i===!1?delete u[f]:f in u?delete u[f]:u[f]=1;s(a,"class",Object.keys(u).join(" ")||null)}return e}var u=i.prototype,f={checked:!1,style:null,value:""},c={focus:1,blur:1},h={focus:1,blur:1,reset:1},p={},v=/[\x20\t\r\n\f]+/;return u.attr=function(e,t){var r,i,l=this;for(r=0;r<l.length;r++)if(i=s(l[r],e,t),t===n)return i;return t!==n?l:void 0},u.emit=function(t,n){var r,i,l,o=this;for(r=0;r<o.length;r++)i=o[r],t in h&&i[t]?i[t]():(l=e.createEvent("HTMLEvents"),l.initEvent(t,!0,!1),n&&(l.detail=n),i.dispatchEvent(l));return o},u.on=function(t,n){var r,i,o,s,a=this;if(t)if(t=t.split(v),1===t.length){t+="",t in p||(e.body.addEventListener(t,l,t in c),p[t]=!0);for(o=0;o<a.length;o++)s=a[o],(r=s.$b)||(r=s.$b={}),(i=r[t])||(i=r[t]=[]),i.push(n)}else for(o=0;o<t.length;o++)a.on(t[o],n);return a},u.off=function(e,t){var n,r,i,l=this;for(n=0;n<l.length;n++)if(r=l[n].$b,e&&r)if(e=e.split(v),1===e.length){if(e+="",(i=r[e])&&t)for(n=0;n<i.length;)i[n]===t?i.splice(n,1):n++;!i||i.length&&t||delete r[e]}else for(n=0;n<e.length;n++)l.off(e[n],t);return l},u.text=function(e){var t,r,i=this;for(t=0;t<i.length;t++){if(r=i[t],e===n)return r.textContent;r.textContent=e}return e!==n?i:void 0},u.addClass=function(e){return a(this,e,!0)},u.removeClass=function(e){return a(this,e,!1)},u.toggleClass=function(e,t){return a(this,e,n,t)},u.hasClass=function(e){return e in o(this.attr("class"))},u.serialize=function(e){var n,r,i,l,o,s,a,u,f=this,c=[];for(n=0;n<f.length;n++)if(l=f[n],l instanceof HTMLFormElement)for(o=l.elements,r=0;r<o.length;r++)if(s=o[r],a=s.name)switch(s.type){case"submit":case"reset":case"button":case"file":break;case"checkbox":case"radio":s.checked&&c.push({name:a,value:s.value});break;case"select-multiple":for(u=s.options,i=0;i<u.length;i++)u[i].selected&&c.push({name:a,value:u[i].value});break;default:c.push({name:a,value:s.value})}if("map"===e){for(u={},n=c.length;n--;)u[c[n].name]=c[n].value;c=u}if("qs"===e){for(u=[],n=0;n<c.length;n++)u.push(t(c[n].name)+"="+t(c[n].value));c=u.join("&")}return c},function(e,t){return new i(e,t)}}(document,encodeURIComponent);